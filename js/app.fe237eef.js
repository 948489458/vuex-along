(function(e){function t(t){for(var r,i,s=t[0],u=t[1],l=t[2],c=0,v=[];c<s.length;c++)i=s[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&v.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(t);while(v.length)v.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"b8cfe9b2"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=i(e);var l=new Error;a=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}o[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vuex-along/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var f=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("28a5"),n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=n("2f62"),a=(n("ac6a"),n("5df3"),n("7f7f"),n("ac4d"),n("8a81"),n("c729")),i=n("91e3"),s=n("0818"),u=n("e739"),l=n("4235"),c=n.n(l),f=n("caaa"),v=n.n(f),p=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function i(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):o(e.value).then(i,s)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,r&&(o=2&a[0]?r["return"]:a[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},d=function(){function e(e,t){void 0===t&&(t=v.a),this._name=e,this.ready=this.initialize(t)}return e.prototype.initialize=function(e){return p(this,void 0,void 0,(function(){var t,n,r,o;return h(this,(function(a){switch(a.label){case 0:return t=this._name,n=new e(t),r=this,"then"in n?[3,1]:(o=c()(n),[3,3]);case 1:return[4,c()(n)];case 2:o=a.sent(),a.label=3;case 3:return r.db=o,[2]}}))}))},e.prototype.get=function(e){return this.db.get(e).value()},e.prototype.set=function(e,t){return p(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return[4,this.db.set(e,t).write()];case 1:return n.sent(),[2]}}))}))},e.prototype.unset=function(e){return p(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.db.unset(e).write()];case 1:return t.sent(),[2]}}))}))},e}(),m=function(e){return JSON.stringify(e,null,2)},b=function(){function e(e,t){var n,r,o,a,i,s;this.source=e,this.source=e,this.defaultValue=(r=null===(n=t)||void 0===n?void 0:n.defaultValue,null!==r&&void 0!==r?r:{}),this.serialize=(a=null===(o=t)||void 0===o?void 0:o.serialize,null!==a&&void 0!==a?a:m),this.deserialize=(s=null===(i=t)||void 0===i?void 0:i.deserialize,null!==s&&void 0!==s?s:JSON.parse)}return e.prototype.read=function(){var e=sessionStorage.getItem(this.source);return e?this.deserialize(e):(sessionStorage.setItem(this.source,this.serialize(this.defaultValue)),this.defaultValue)},e.prototype.write=function(e){sessionStorage.setItem(this.source,this.serialize(e))},e}(),y=b,g=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function i(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):o(e.value).then(i,s)}u((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,r&&(o=2&a[0]?r["return"]:a[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},w="vuex-along",S="root",x=function(){function e(e){var t=this,n=e.local,r=e.session,o=e.name,a=void 0===o?w:o,i=e.justSession,s=void 0!==i&&i,u=e.adapterOptions,l=void 0===u?{session:y,sync:!0}:u,c=l.local,f=l.session,v=l.sync;this.local=n,this.session=r,this.justSession=s,this.sync=!((c||f)&&!v),s||(this.localDBService=new d(a,c)),r&&(this.sessionDBService=new d(a,f)),window&&(window.clearVuexAlong=function(e,n){t.clear(e,n)})}return Object.defineProperty(e.prototype,"ready",{get:function(){var e,t;return!!this.sync||Promise.all([null===(e=this.localDBService)||void 0===e?void 0:e.ready,null===(t=this.sessionDBService)||void 0===t?void 0:t.ready])},enumerable:!0,configurable:!0}),e.prototype.saveLocalData=function(e){var t;this.justSession||this._dataHandler(e,(t=this.local,null!==t&&void 0!==t?t:{list:[]}),this.localDBService)},e.prototype.saveSessionData=function(e){var t=this.session;t&&this._dataHandler(e,t,this.sessionDBService)},e.prototype._dataHandler=function(e,t,n){var r;if(n){var o=Object(a["a"])(e),u=S,l=t.list,c=t.isFilter;(null===(r=l)||void 0===r?void 0:r.length)&&(o=c?Object(i["a"])(o,l):Object(s["a"])(o,l)),n.set(u,o).catch(k)}},e.prototype.saveData=function(e){this.saveLocalData(e),this.saveSessionData(e)},e.prototype.restoreData=function(e){var t,n,r=S;e.replaceState(Object(u["a"])(null===(t=this.sessionDBService)||void 0===t?void 0:t.get(r),null===(n=this.localDBService)||void 0===n?void 0:n.get(r),e.state))},e.prototype.clear=function(e,t){var n,r;void 0===e&&(e=!0),void 0===t&&(t=!1),e&&(null===(n=this.localDBService)||void 0===n||n.unset(S).catch(k)),t&&(null===(r=this.sessionDBService)||void 0===r||r.unset(S).catch(k))},e}(),j=function(e){var t=this;void 0===e&&(e={});var n=new x(e);return function(e){return g(t,void 0,void 0,(function(){return _(this,(function(t){switch(t.label){case 0:return!0===n.ready?[3,2]:[4,n.ready];case 1:t.sent(),t.label=2;case 2:return n.restoreData(e),e.subscribe((function(e,t){return n.saveData(t)})),[2]}}))}))}};function k(e){console.error(e)}var O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" |\n    "),n("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),n("router-view")],1)},A=[],D=(n("034f"),n("2877")),E={},$=Object(D["a"])(E,O,A,!1,null,null,null),P=$.exports,V=n("8c4f"),B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),r("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},z=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._m(0),n("h3",[e._v("Local example")]),n("ul",[n("li",[e._v("\n        "+e._s(e.$store.state.count)+"\n        "),n("button",{on:{click:e.increment}},[e._v("+ 10")])])]),n("h3",[e._v("Session example")]),n("ul",[n("li",[e._v("\n        "+e._s(e.$store.state.ma.a1)+"\n        "),n("button",{on:{click:e.reverseA1}},[e._v("reverse a1")]),e._v("\n        (Saved ma.a1)\n      ")]),n("li",[e._v("\n        "+e._s(e.$store.state.ma.a2)+"\n        "),n("button",{on:{click:e.reverseA2}},[e._v("reverse a2")]),e._v("\n        (Unsaved ma.a2)\n      ")])]),n("h3",[e._v("clear data")]),n("ul",[n("li",[n("button",{on:{click:e.clearLocal}},[e._v("clear local / 清除 localStorage")])]),n("li",[n("button",{on:{click:e.clearSession}},[e._v("clear Session / 清除 sessionStorage")])])]),e._m(1),n("br"),n("pre",[e._v('const moduleA = {\n  state: {\n    a1: "hello",\n    a2: "world"\n  }\n};\n\nconst store = new Vuex.Store({\n  state: {\n    count: 0\n  },\n  mutations: {\n    increment(state) {\n      state.count += 10;\n    },\n    reverseA1(state) {\n      state.ma.a1 = state.ma.a1\n        .split("")\n        .reverse()\n        .join("");\n    },\n    reverseA2(state) {\n      state.ma.a2 = state.ma.a2\n        .split("")\n        .reverse()\n        .join("");\n    }\n  },\n  modules: {\n    ma: moduleA\n  },\n  plugins: [\n    ')]),n("pre",{staticClass:"light"},[e._v('    createVuexAlong({\n      name: "hello-vuex-along",\n      local: { list: ["ma"], isFilter: true },\n      session: { list: ["ma.a1"] }\n    })\n    ')]),n("pre",[e._v("  ]\n});\n    ")]),e._m(2)])},L=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n      Auto save vuex state to localStorage or sessionStorage,\n      "),n("br"),e._v("check out the\n      "),n("a",{attrs:{href:"https://github.com/boenfu/vuex-along",target:"_blank",rel:"noopener"}},[e._v("github")]),e._v(".\n    ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[e._v("\n      Options example\n      "),n("a",{attrs:{href:"https://github.com/boenfu/vuex-along/tree/master/demo/src/main.js",target:"_blank",rel:"noopener"}},[e._v("demo/src/main.js")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n      More options\n      "),n("br"),e._v("check out the\n      "),n("a",{attrs:{href:"https://github.com/boenfu/vuex-along",target:"_blank",rel:"noopener"}},[e._v("README")]),e._v(".\n    ")])}],T={name:"HelloWorld",props:{msg:String},methods:{increment:function(){this.$store.commit("increment")},reverseA1:function(){this.$store.commit("reverseA1")},reverseA2:function(){this.$store.commit("reverseA2")},clearLocal:function(){window.clearVuexAlong(!0,!1)},clearSession:function(){window.clearVuexAlong(!1,!0)}}},M=T,C=(n("b8ff"),Object(D["a"])(M,H,L,!1,null,"70980381",null)),J=C.exports,W={name:"home",components:{HelloWorld:J}},F=W,I=Object(D["a"])(F,B,z,!1,null,null,null),G=I.exports;r["a"].use(V["a"]);var N=new V["a"]({routes:[{path:"/",name:"home",component:G},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]});r["a"].config.productionTip=!1,r["a"].use(o["a"]);var q={state:{a1:"hello",a2:"world"}},R=new o["a"].Store({state:{count:0},mutations:{increment:function(e){e.count+=10},reverseA1:function(e){e.ma.a1=e.ma.a1.split("").reverse().join("")},reverseA2:function(e){e.ma.a2=e.ma.a2.split("").reverse().join("")}},modules:{ma:q},plugins:[j({name:"hello-vuex-along",local:{list:["ma"],isFilter:!0},session:{list:["ma.a1"]}})]});N.beforeEach((function(e,t,n){console.info("router.beforeEach",{"router.app.$options.store.state.count":N.app.$options.store.state.count}),n()})),new r["a"]({render:function(e){return e(P)},router:N,store:R}).$mount("#app")},"64a9":function(e,t,n){},"8d29":function(e,t,n){},b8ff:function(e,t,n){"use strict";var r=n("8d29"),o=n.n(r);o.a},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.fe237eef.js.map